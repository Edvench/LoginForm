"use strict";var __decorate=this&&this.__decorate||function(o,e,r,t){var n,l=arguments.length,a=l<3?e:null===t?t=Object.getOwnPropertyDescriptor(e,r):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(o,e,r,t);else for(var s=o.length-1;0<=s;s--)(n=o[s])&&(a=(l<3?n(a):3<l?n(e,r,a):n(e,r))||a);return 3<l&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),forms_1=require("@angular/forms"),LoginModalComponent=function(){function o(o,e,r,t){this.fb=o,this.auth=e,this.router=r,this.dialogRef=t,this.users=[],this.error=!1,this.formGroup=o.group({emailControl:["",[forms_1.Validators.required,forms_1.Validators.email]],passwordControl:["",[forms_1.Validators.required,forms_1.Validators.pattern("[0-9a-zA-Z]{4,8}")]]})}return o.prototype.ngOnInit=function(){},o.prototype.authorization=function(){var e,r,t=this;this.auth.getToken(this.formGroup.controls.emailControl.value,this.formGroup.controls.passwordControl.value).subscribe(function(o){e=o.body.token,r=o.body.role,localStorage.setItem("token",e),localStorage.setItem("role",r),console.log(e),console.log(r),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("token",e),t.router.navigate(["table"]),t.dialogRef.close()},function(o){t.error=o.error.error,console.log(o.error.error)})},o=__decorate([core_1.Component({selector:"app-login-modal",templateUrl:"./login-modal.component.html",styleUrls:["./login-modal.component.css"]})],o)}();exports.LoginModalComponent=LoginModalComponent;