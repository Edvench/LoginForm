"use strict";var __decorate=this&&this.__decorate||function(e,o,r,t){var a,s=arguments.length,l=s<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,r):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,o,r,t);else for(var i=e.length-1;0<=i;i--)(a=e[i])&&(l=(s<3?a(l):3<s?a(o,r,l):a(o,r))||l);return 3<s&&l&&Object.defineProperty(o,r,l),l},__param=this&&this.__param||function(r,t){return function(e,o){t(e,o,r)}};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),forms_1=require("@angular/forms"),dialog_1=require("@angular/material/dialog"),UpdateUserModalComponent=function(){function e(e,o,r,t){this.fb=e,this.tableService=o,this.dialogRef=r,this.data=t,this.error=!1,this.responceSuccess=!1,this.success=!1,this.updatedUser={id:this.data.id,name:"",email:"",role:"",password:""},this.roles=[{value:"admin",viewValue:"admin"},{value:"user",viewValue:"user"}],this.formGroup=e.group({nameControl:[this.data.name,[forms_1.Validators.required]],emailControl:[this.data.email,[forms_1.Validators.required,forms_1.Validators.email]],roleControl:[this.data.role,[forms_1.Validators.required]],passwordControl:[this.data.password,[forms_1.Validators.required,forms_1.Validators.pattern("[0-9a-zA-Z]{4,8}")]]})}return e.prototype.ngOnInit=function(){},e.prototype.updateUser=function(){var o=this;this.tableService.updateUser(this.data.id,localStorage.getItem("token"),this.formGroup.controls.nameControl.value,this.formGroup.controls.emailControl.value,this.formGroup.controls.roleControl.value,this.formGroup.controls.passwordControl.value).subscribe(function(e){e&&(o.success=!0,o.updatedUser.id=o.data.id,o.updatedUser.name=o.formGroup.controls.nameControl.value,o.updatedUser.email=o.formGroup.controls.emailControl.value,o.updatedUser.role=o.formGroup.controls.roleControl.value,o.updatedUser.password=o.formGroup.controls.passwordControl.value,o.closeDialogWithUpdate(o.updatedUser))},function(e){o.error=e.error})},e.prototype.closeDialogWithUpdate=function(e){this.dialogRef.close(e)},e.prototype.closeDialog=function(){this.dialogRef.close()},e=__decorate([core_1.Component({selector:"app-update-user-modal",templateUrl:"./update-user-modal.component.html",styleUrls:["./update-user-modal.component.css"]}),__param(3,core_1.Inject(dialog_1.MAT_DIALOG_DATA))],e)}();exports.UpdateUserModalComponent=UpdateUserModalComponent;